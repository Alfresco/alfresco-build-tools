name: 'Calculate next internal version'
description: 'Calculate next internal version based on existing tags'
inputs:
  next-version:
    description: 'Next version following the pattern MAJOR.MINOR.PATCH'
    required: true
outputs:
  next-prerelease:
    description: "Next prerelease"
    value: ${{ steps.next-prerelease-resolver.outputs.next-prerelease }}
runs:
  using: "composite"
  steps:
    - uses: actions/setup-python@v2
    - uses: Alfresco/alfresco-build-tools/.github/actions/setup-pysemver@v1.10.0
    - id: next-prerelease-resolver
      run: ${{ github.action_path }}/next-prerelease.sh
      shell: bash
      env:
        NEXT_VERSION: ${{ inputs.next-version }}
